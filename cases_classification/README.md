# CASES CLASSIFICATION
This directory contains Python notebooks with the code used for the clustering of news articles describing the same sexual violent case.

The process consist on two phases:
1. The assessment of pairwise similarity between all pairs of articles of the dataset 
2. The clustering of articles according to similarities outputed in the first phase. 

***
## Notebooks description
### 1. pairwise_similarity.ipynb
Python notebook that computes several similarity metrics for each pair of news articles and trains a logistic regression model to identify articles about the same case.
* **Customizable global variables**:
  * `NEWS_PATH`: Path to the directory containing news in XML format.
  * `INPUT_FILE_PATH`: Path to a CSV file containing tweets (identified with the tweet id) and a case id. This will be the ground truth considered for learning the similarity between a pair of articles.
  * `FASTTEXT_W2V_PATH`: Path to a Vector format file containing FastText embeddings for Spanish. Further details in additional resources section.
  * `OUTPUT_PATH`: Path where to store the output generated by the notebook.
* **Additional resources**: 
  * A vector format file containing Spanish embeddings. We used the embeddings resulted from training FastText using the Spanish Unannotated Corpora available [here](https://github.com/dccuchile/spanish-word-embeddings).
    The vector format file has to be added in [utilities]() directory and the path and filename have to be specified in `FASTTEXT_W2V_PATH` global variable.
  
* **Output** (stored in `OUTPUT_PATH`): 
  * `cases_pairwise_proba.csv`: A CSV file containing a row for each pair of news in `NEWS_PATH` with different similarity metrics and the predicted probability of being about the same case.
    

### 2. clustering.ipynb
Given the probabilities outputed in the first phase, create clusters of news articles to group articles about the same case.
* **Customizable global variables**:
    * `NEWS_PATH`: Path to the directory containing news in XML format.
    * `INPUT_FILE_PATH`: Path to the output file of `pairwise_similarity.ipynb`.
    * `OUTPUT_PATH`: Path where to store the outputs generated by the notebook.

* **Output** (stored in `OUTPUT_PATH`): 
  * `cases_ids.csv`: A CSV file containing for each cluster id, a list with the tweets ids conforming that cluster
  * `cases_info.csv`: A CSV file containing the summary of each tweet and the cluster id assigned to that post.